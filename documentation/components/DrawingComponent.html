<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>smart-light documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	    <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">smart-light documentation</a>
            <button type="button" class="btn btn-default btn-menu fa fa-bars" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
            <div id="book-search-input" role="search">
                <input type="text" placeholder="Type to search">
            </div>
            <nav>
            
                <ul class="list">
            
                    <li class="title">
                        <a href="../">smart-light documentation</a>
                    </li>
            
                    <li class="divider"></li>
            
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="../"><span class="fa fa-home"></span>Getting started</a>
                        <ul class="links">
                                <li class="link">
                                    <a href="../" ><span class="fa fa-file-text-o"></span>README</a>
                                </li>
                                <li class="link">
                                    <a 
                                        
                                         href="../overview.html" 
                                         href="../overview.html" 
                                        >
                                        <span class="fa fa-th"></span>Overview
                                    </a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="./modules.html" >
                            <span class="fa fa-archive"></span>
                            <span>Modules</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-modules-links"
                            ></span>
                        </a>
                        <ul class="links collapse in"
                                id="xs-modules-links"
                            >
                                <li class="link">
                                    <a href="../modules/AppModule.html" >AppModule</a>
                                </li>
                                <li class="link">
                                    <a href="../modules/AppRoutingModule.html" >AppRoutingModule</a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-cogs"></span>
                            <span>Components</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-components-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-components-links"
                            >
                                <li class="link">
                                    <a href="../components/AppComponent.html" >AppComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/DrawingComponent.html"  class="active" >DrawingComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/SetupComponent.html" >SetupComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/SimulationComponent.html" >SimulationComponent</a>
                                </li>
                        </ul>
                    </li>
            
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-file-code-o"></span>
                            <span>Classes</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-classes-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-classes-links"
                            >
                                <li class="link">
                                    <a href="../classes/Junction.html" >Junction</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/Lamp.html" >Lamp</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/MovingObject.html" >MovingObject</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/Road.html" >Road</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/SimulationState.html" >SimulationState</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/SmartCityModel.html" >SmartCityModel</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/TrafficSensor.html" >TrafficSensor</a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="../routes.html" ><span class="fa fa-code-fork"></span>Routes</a>
                    </li>
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-long-arrow-down"></span>
                            <span>Injectables</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-injectables-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-injectables-links"
                            >
                                <li class="link">
                                    <a href="../injectables/DrawingService.html" >DrawingService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/SetupService.html" >SetupService</a>
                                </li>
                        </ul>
                    </li>
            
            
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="../miscellaneous.html" ><span class="fa fa-cubes"></span>Miscellaneous</a>
                    </li>
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="../coverage.html" ><span class="fa fa-tasks"></span>Documentation coverage</a>
                    </li>
            
                    <li class="divider"></li>
                    <li class="copyright">
                            Documentation generated using <a href="https://compodoc.github.io/compodoc/" target="_blank">
                                        <img src="..//images/compodoc-vectorise.svg" class="img-responsive">
                            </a>
                    </li>
            
                </ul>
            
            </nav>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <nav>
                   
                       <ul class="list">
                   
                           <li class="title">
                               <a href="../">smart-light documentation</a>
                           </li>
                   
                           <li class="divider"></li>
                   
                               <div id="book-search-input" role="search">
                                   <input type="text" placeholder="Type to search">
                               </div>
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="../"><span class="fa fa-home"></span>Getting started</a>
                               <ul class="links">
                                       <li class="link">
                                           <a href="../" ><span class="fa fa-file-text-o"></span>README</a>
                                       </li>
                                       <li class="link">
                                           <a 
                                               
                                                href="../overview.html" 
                                                href="../overview.html" 
                                               >
                                               <span class="fa fa-th"></span>Overview
                                           </a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="./modules.html" >
                                   <span class="fa fa-archive"></span>
                                   <span>Modules</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#modules-links"
                                   ></span>
                               </a>
                               <ul class="links collapse in"
                                       id="modules-links"
                   >
                                       <li class="link">
                                           <a href="../modules/AppModule.html" >AppModule</a>
                                       </li>
                                       <li class="link">
                                           <a href="../modules/AppRoutingModule.html" >AppRoutingModule</a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-cogs"></span>
                                   <span>Components</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#components-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="components-links"
                   >
                                       <li class="link">
                                           <a href="../components/AppComponent.html" >AppComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/DrawingComponent.html"  class="active" >DrawingComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/SetupComponent.html" >SetupComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/SimulationComponent.html" >SimulationComponent</a>
                                       </li>
                               </ul>
                           </li>
                   
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-file-code-o"></span>
                                   <span>Classes</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#classes-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="classes-links"
                   >
                                       <li class="link">
                                           <a href="../classes/Junction.html" >Junction</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/Lamp.html" >Lamp</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/MovingObject.html" >MovingObject</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/Road.html" >Road</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/SimulationState.html" >SimulationState</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/SmartCityModel.html" >SmartCityModel</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/TrafficSensor.html" >TrafficSensor</a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="../routes.html" ><span class="fa fa-code-fork"></span>Routes</a>
                           </li>
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-long-arrow-down"></span>
                                   <span>Injectables</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#injectables-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="injectables-links"
                   >
                                       <li class="link">
                                           <a href="../injectables/DrawingService.html" >DrawingService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/SetupService.html" >SetupService</a>
                                       </li>
                               </ul>
                           </li>
                   
                   
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="../miscellaneous.html" ><span class="fa fa-cubes"></span>Miscellaneous</a>
                           </li>
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="../coverage.html" ><span class="fa fa-tasks"></span>Documentation coverage</a>
                           </li>
                   
                           <li class="divider"></li>
                           <li class="copyright">
                                   Documentation generated using <a href="https://compodoc.github.io/compodoc/" target="_blank">
                                               <img src="..//images/compodoc-vectorise.svg" class="img-responsive">
                                   </a>
                           </li>
                   
                       </ul>
                   
                   </nav>
               </div>
               <div class="content component">
                   <div class="content-data">


<ol class="breadcrumb">
  <li>Components</li>
  <li>DrawingComponent</li>
</ol>


    <ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#infos" id="infos-tab" role="tab" data-toggle="tab">Infos</a>
        </li>
        <li>
            <a href="#source" role="tab" id="source-tab" data-toggle="tab">Source</a>
        </li>
    </ul>

    <div class="tab-content">
        <div class="tab-pane fade active in" id="infos"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>src/app/drawing/drawing.component.ts</code>
</p>



<section>
    <h3>Metadata</h3>
    <table class="table table-sm table-hover">
        <tbody>












            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>app-drawing</code></td>
            </tr>

            <tr>
                <td class="col-md-3">styleUrls</td>
                <td class="col-md-9"><code>drawing.component.css</code></td>
            </tr>



            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>drawing.component.html</code></td>
            </tr>


        </tbody>
    </table>
</section>



    <section>
        <h3 id="constructor">Constructor</h3>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <code>constructor(drawingService: <a href="../injectables/DrawingService.html" >DrawingService</a>, setupService: <a href="../injectables/SetupService.html" >SetupService</a>)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>W konstruktorze wykorzystujemy mechanizm dependency injection i wstrzykujemy instancje serwisów odpowiedzialnych<br>za ustawienia mapy(SetupService) oraz rysowanie mapy(DrawingService).<br>Jako aktualny model symulacji przyjmujemy ten przechowywany w SetupService.</p>
    </div>
                        </td>
                    </tr>
                </tbody>
            </table>
    </section>

    <section>
        <h3 id="methods">Methods</h3>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> setupMouseEvents</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play lock">
                                    <span class="fa fa-lock"></span>
                                </span>
                            <code>setupMouseEvents()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Metoda obsługuje zdarzenia myszy na elemencie canvas.</p>
    </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> drawCursor</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play lock">
                                    <span class="fa fa-lock"></span>
                                </span>
                            <code>drawCursor(e: MouseEvent)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Metoda rysuje na elemencie canvas obiekt myszy.</p>
    </div>
                                <div class="io-description">
                                        <b>Parameters :</b>
                                        <ul class="jsdoc-params">
                                                <li>
                                                    <div>
                                                        <b>e</b>
                                                    </div>
                                                    <div>
                                                        <p>Obiekt typu MouseEvent.</p>
    
                                                    </div>
                                                </li>
                                        </ul>
                                </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                                    <div class="io-description">
                                        
                                    </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> drawBackground</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play lock">
                                    <span class="fa fa-lock"></span>
                                </span>
                            <code>drawBackground()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Metoda rysuje odpowiednie tło dla symulacji.<br>Głownym celem jest zamazanie poprzedniej klatki z elementów pozostałych z porzpedniej iteracji systemu.</p>
    </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> draw</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play lock">
                                    <span class="fa fa-lock"></span>
                                </span>
                            <code>draw()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Metoda rysująca odpowiednią &quot;klatkę&quot; w zależności od aktualnego modelu symulacji.<br>Główna metoda rysująca, wywołuje metody odpowiedzialne za rysowanie poszczególnych elementów symulacji.</p>
    </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> drawMouseObjects</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play lock">
                                    <span class="fa fa-lock"></span>
                                </span>
                            <code>drawMouseObjects()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Metoda rysuje odpowiednie elementy planszy. Wykorzystywana jest w trakcie procesu konfiguracji mapy dla symulacji.</p>
    </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> drawMovingObjects</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play lock">
                                    <span class="fa fa-lock"></span>
                                </span>
                            <code>drawMovingObjects()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Metoda rysuje dynamiczne elementy symulacji (w domyśle pojazdy, pieszych, rowerzystów, zwierzęta).<br>Aktualna wersja rysuje tylko poojazdy.</p>
    </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> drawRoads</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play lock">
                                    <span class="fa fa-lock"></span>
                                </span>
                            <code>drawRoads()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Metoda rysuje ścieżki po których poruszają się dynamiczne obiekty.</p>
    </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> drawLamps</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play lock">
                                    <span class="fa fa-lock"></span>
                                </span>
                            <code>drawLamps()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Metoda rysuje lampy na mapie symulacji.</p>
    </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> drawCircle</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play lock">
                                    <span class="fa fa-lock"></span>
                                </span>
                            <code>drawCircle(context: CanvasRenderingContext2D, posX: number, posY: number, radius: number, color: string)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Metoda pomocnicza, używana przy rysowaniu lamp.</p>
    </div>
                                <div class="io-description">
                                        <b>Parameters :</b>
                                        <ul class="jsdoc-params">
                                                <li>
                                                    <div>
                                                        <b>context</b>
                                                    </div>
                                                    <div>
                                                        <p>kontekst renderowania</p>
    
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <b>posX</b>
                                                    </div>
                                                    <div>
                                                        <p>pozycja X</p>
    
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <b>posY</b>
                                                    </div>
                                                    <div>
                                                        <p>pozycja Y</p>
    
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <b>radius</b>
                                                    </div>
                                                    <div>
                                                        <p>promień obiektu</p>
    
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <b>color</b>
                                                    </div>
                                                    <div>
                                                        <p>kolor obiektu</p>
    
                                                    </div>
                                                </li>
                                        </ul>
                                </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                                    <div class="io-description">
                                        
                                    </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> drawRect</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play lock">
                                    <span class="fa fa-lock"></span>
                                </span>
                            <code>drawRect(context: CanvasRenderingContext2D, posX: number, posY: number, width: number, height: number, color: string)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Metoda pomocnicza, używana przy rysowaniu obiektów dynamicznych.</p>
    </div>
                                <div class="io-description">
                                        <b>Parameters :</b>
                                        <ul class="jsdoc-params">
                                                <li>
                                                    <div>
                                                        <b>context</b>
                                                    </div>
                                                    <div>
                                                        <p>kontekst renderowania</p>
    
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <b>posX</b>
                                                    </div>
                                                    <div>
                                                        <p>pozycja X</p>
    
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <b>posY</b>
                                                    </div>
                                                    <div>
                                                        <p>pozycja Y</p>
    
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <b>width</b>
                                                    </div>
                                                    <div>
                                                        <p>szerokość obiektu</p>
    
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <b>height</b>
                                                    </div>
                                                    <div>
                                                        <p>wysokość obiektu</p>
    
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <b>color</b>
                                                    </div>
                                                    <div>
                                                        <p>kolor obiektu</p>
    
                                                    </div>
                                                </li>
                                        </ul>
                                </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                                    <div class="io-description">
                                        
                                    </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> drawRing</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play lock">
                                    <span class="fa fa-lock"></span>
                                </span>
                            <code>drawRing(context: CanvasRenderingContext2D, posX: number, posY: number, radius: number, scale: number, innerColor: string, outerColor: string)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Metoda pomocnicza, używana przy rysowaniu lamp.</p>
    </div>
                                <div class="io-description">
                                        <b>Parameters :</b>
                                        <ul class="jsdoc-params">
                                                <li>
                                                    <div>
                                                        <b>context</b>
                                                    </div>
                                                    <div>
                                                        <p>kontekst renderowania</p>
    
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <b>posX</b>
                                                    </div>
                                                    <div>
                                                        <p>pozycja X</p>
    
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <b>posY</b>
                                                    </div>
                                                    <div>
                                                        <p>pozycja Y</p>
    
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <b>radius</b>
                                                    </div>
                                                    <div>
                                                        <p>promień obiektu</p>
    
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <b>scale</b>
                                                    </div>
                                                    <div>
                                                        <p>współczynnik skali</p>
    
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <b>innerColor</b>
                                                    </div>
                                                    <div>
                                                        <p>kolor wewnętrznego koła</p>
    
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <b>outerColor</b>
                                                    </div>
                                                    <div>
                                                        <p>kolor zewnętrznego koła</p>
    
                                                    </div>
                                                </li>
                                        </ul>
                                </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                                    <div class="io-description">
                                        
                                    </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> drawLine</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play lock">
                                    <span class="fa fa-lock"></span>
                                </span>
                            <code>drawLine(context: CanvasRenderingContext2D, startX: number, startY: number, endX: number, endY: number)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Metoda pomocnicza, używana przy rysowaniu ścieżek do poruszania się obiektów.</p>
    </div>
                                <div class="io-description">
                                        <b>Parameters :</b>
                                        <ul class="jsdoc-params">
                                                <li>
                                                    <div>
                                                        <b>context</b>
                                                    </div>
                                                    <div>
                                                        <p>kontekst renderowania</p>
    
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <b>startX</b>
                                                    </div>
                                                    <div>
                                                        <p>pozycja X początku</p>
    
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <b>startY</b>
                                                    </div>
                                                    <div>
                                                        <p>pozycja Y początku</p>
    
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <b>endX</b>
                                                    </div>
                                                    <div>
                                                        <p>pozycja X końca</p>
    
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <b>endY</b>
                                                    </div>
                                                    <div>
                                                        <p>pozycja Y końca</p>
    
                                                    </div>
                                                </li>
                                        </ul>
                                </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                                    <div class="io-description">
                                        
                                    </div>
                        </td>
                    </tr>
                </tbody>
            </table>
    </section>

    <section>
        <h3 id="inputs">Properties</h3>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> canvas</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>canvas:     <code>HTMLCanvasElement</code>
    </bcode>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <div class="io-description"><p>Interfejs zapewniający dostęp do własności i metod pozwalających na manipulację wyglądem i prezentacją elementu canvas</p>
    </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> context</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>context:     <code>CanvasRenderingContext2D</code>
    </bcode>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <div class="io-description"><p>Interfejs dostarczający kontekst renderowania 2D. Służy do rysowania elementów symulacji</p>
    </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> model</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>model:     <code><a href="../classes/SmartCityModel.html" target="_self" >SmartCityModel</a></code>
    </bcode>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <div class="io-description"><p>Model przechowujący dane symulacji dla rysowanego stanu.</p>
    </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> mousex</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>mousex:     <code>number</code>
    </bcode>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <div class="io-description"><p>Pozycja myszy x</p>
    </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> mousey</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>mousey:     <code>number</code>
    </bcode>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <div class="io-description"><p>Pozycja myszy y</p>
    </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> screenHeight</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>screenHeight:     <code>number</code>
    </bcode>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <div class="io-description"><p>Wysokość elementu</p>
    </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> screenWidth</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>screenWidth:     <code>number</code>
    </bcode>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <div class="io-description"><p>Szerokość elementu</p>
    </div>
                        </td>
                    </tr>
                </tbody>
            </table>
    </section>
</div>
        <div class="tab-pane fade tab-source-code" id="source">
            <pre><code class="hljs javascript">import { Component, OnInit } from &#x27;@angular/core&#x27;;
import * as $ from &#x27;jquery&#x27;;
import { Direction } from &#x27;../model/direction&#x27;;
import Lamp from &#x27;../model/lamp&#x27;;
import MovingObject from &#x27;../model/moving-object&#x27;;
import { PlaceType } from &#x27;../model/place-type&#x27;;
import Road from &#x27;../model/road&#x27;;
import SmartCityModel from &#x27;../model/smart-city-model&#x27;;
import { DrawingService } from &#x27;../services/drawing.service&#x27;;
import { SetupService } from &#x27;../services/setup.service&#x27;;

@Component({
  selector: &#x27;app-drawing&#x27;,
  templateUrl: &#x27;./drawing.component.html&#x27;,
  styleUrls: [&#x27;./drawing.component.css&#x27;]
})
export class DrawingComponent implements OnInit {

  /**
   * Interfejs zapewniający dostęp do własności i metod pozwalających na manipulację wyglądem i prezentacją elementu canvas
   */
  private canvas: HTMLCanvasElement;
  /**
   * Szerokość elementu
   */
  private screenWidth: number;
  /**
   * Wysokość elementu
   */
  private screenHeight: number;
  /**
   * Interfejs dostarczający kontekst renderowania 2D. Służy do rysowania elementów symulacji
   */
  private context: CanvasRenderingContext2D;
  /**
   * Model przechowujący dane symulacji dla rysowanego stanu.
   */
  private model: SmartCityModel;
  /**
   * Pozycja myszy x
   */
  private mousex: number;
  /**
   * Pozycja myszy y
   */
  private mousey: number;

  /**
   * W konstruktorze wykorzystujemy mechanizm dependency injection i wstrzykujemy instancje serwisów odpowiedzialnych
   * za ustawienia mapy(SetupService) oraz rysowanie mapy(DrawingService).
   * Jako aktualny model symulacji przyjmujemy ten przechowywany w SetupService.
   */
  constructor(
    private drawingService: DrawingService,
    private setupService: SetupService) {
  }

  /**
   * Metoda inicjalizuje atrybuty komponentu domyślnymi wartościami i uruchamia rysowanie po załadowaniu zawartości.
   */
  ngOnInit() {
    this.canvas &#x3D; &lt;HTMLCanvasElement&gt;document.getElementById(&#x27;stage&#x27;);
    this.screenHeight &#x3D; 800;
    this.screenWidth &#x3D; 1280;
    this.context &#x3D; this.canvas.getContext(&#x27;2d&#x27;);
    this.context.imageSmoothingEnabled &#x3D; false;

    $(() &#x3D;&gt; {
      this.drawingService.modelObservable.subscribe(result &#x3D;&gt; {
        if (!result)
          return;

        this.model &#x3D; result;
        this.draw();
      });

      this.setupMouseEvents();
    })

  }

  /**
   * Metoda obsługuje zdarzenia myszy na elemencie canvas.
   */
  private setupMouseEvents() {

    this.canvas.addEventListener(&quot;mousemove&quot;, (e: MouseEvent) &#x3D;&gt; {
      if (this.setupService.completed)
        return;
      this.drawCursor(e);
    });

    this.canvas.addEventListener(&quot;mouseup&quot;, () &#x3D;&gt; {
      if (this.setupService.cursor &#x3D;&#x3D;&#x3D; &quot;lamp&quot;)
        this.setupService.addLamp(this.mousex, this.mousey);
    });

    this.canvas.addEventListener(&quot;mousedown&quot;, () &#x3D;&gt; {
      if (!(this.setupService.cursor &#x3D;&#x3D;&#x3D; &quot;road&quot;))
        return;

      if (!(this.setupService.roadStartX &amp;&amp; this.setupService.roadStartY)) {
        this.setupService.roadStartX &#x3D; this.mousex;
        this.setupService.roadStartY &#x3D; this.mousey;
        return;
      }
      if (Math.abs(this.setupService.roadStartX - this.mousex) &gt; Math.abs(this.setupService.roadStartY - this.mousey))
        this.setupService.addRoad(this.setupService.roadStartX, this.setupService.roadStartY, this.mousex, this.setupService.roadStartY);
      else
        this.setupService.addRoad(this.setupService.roadStartX, this.setupService.roadStartY, this.setupService.roadStartX, this.mousey);
      this.setupService.roadStartX &#x3D; null;
      this.setupService.roadStartY &#x3D; null;
    });
  }

  /**
   * Metoda rysuje na elemencie canvas obiekt myszy.
   * @param e Obiekt typu MouseEvent.
   */
  private drawCursor(e: MouseEvent) {
    var rect &#x3D; this.canvas.getBoundingClientRect(), scaleX &#x3D; this.canvas.width / rect.width, scaleY &#x3D; this.canvas.height / rect.height;
    this.mousex &#x3D; (e.clientX - rect.left) * scaleX;
    this.mousey &#x3D; (e.clientY - rect.top) * scaleY;
    this.draw();
  }

  /**
   * Metoda rysuje odpowiednie tło dla symulacji.
   * Głownym celem jest zamazanie poprzedniej klatki z elementów pozostałych z porzpedniej iteracji systemu.
   */
  private drawBackground() {
    switch (+this.model.place) {
      case PlaceType.NormalTraffic:
        this.context.fillStyle &#x3D; &quot;LightGrey&quot;;
        break;
      case PlaceType.HighTraffic:
        this.context.fillStyle &#x3D; &quot;Beige&quot;;
        break;
      case PlaceType.Parks:
        this.context.fillStyle &#x3D; &quot;LightGreen&quot;;
        break;
      default:
        this.context.fillStyle &#x3D; &quot;White&quot;;
        break;
    }

    this.context.fillRect(0, 0, this.screenWidth, this.screenHeight);
  }

  /**
   * Metoda rysująca odpowiednią &quot;klatkę&quot; w zależności od aktualnego modelu symulacji.
   * Główna metoda rysująca, wywołuje metody odpowiedzialne za rysowanie poszczególnych elementów symulacji.
   */
  private draw() {
    // this.context.clearRect(0, 0, this.screenWidth, this.screenHeight);
    this.drawBackground();

    if (this.model) {
      this.drawRoads();
      this.drawMovingObjects();
      this.drawLamps();
    }

    if (this.setupService.completed)
      return;

    this.drawMouseObjects();
  }

  /**
   * Metoda rysuje odpowiednie elementy planszy. Wykorzystywana jest w trakcie procesu konfiguracji mapy dla symulacji.
   */
  private drawMouseObjects() {
    if (this.setupService.cursor &#x3D;&#x3D;&#x3D; &quot;lamp&quot;)
      this.drawRing(this.context, this.mousex - 5, this.mousey - 5, 10, this.setupService.selectedLamp.conditionalPower);

    if (this.setupService.cursor &#x3D;&#x3D;&#x3D; &quot;road&quot;) {
      this.drawCircle(this.context, this.mousex - 2, this.mousey - 2, 4, &#x27;#000000&#x27;);
      if (this.setupService.roadStartX &amp;&amp; this.setupService.roadStartY) {
        if (Math.abs(this.setupService.roadStartX - this.mousex) &gt; Math.abs(this.setupService.roadStartY - this.mousey))
          this.drawLine(this.context, this.setupService.roadStartX, this.setupService.roadStartY, this.mousex, this.setupService.roadStartY);
        else
          this.drawLine(this.context, this.setupService.roadStartX, this.setupService.roadStartY, this.setupService.roadStartX, this.mousey);
      }
    }
  }

  /**
   * Metoda rysuje dynamiczne elementy symulacji (w domyśle pojazdy, pieszych, rowerzystów, zwierzęta).
   * Aktualna wersja rysuje tylko poojazdy.
   */
  private drawMovingObjects() {
    this.model.objects.forEach((object: MovingObject) &#x3D;&gt; {
      if (object.direction &#x3D;&#x3D; Direction.Up || object.direction &#x3D;&#x3D; Direction.Down) {
        this.drawRect(this.context, object.posX - 5, object.posY - 10, 10, 20, object.color);
      }
      if (object.direction &#x3D;&#x3D; Direction.Left || object.direction &#x3D;&#x3D; Direction.Right) {
        this.drawRect(this.context, object.posX - 10, object.posY - 5, 20, 10, object.color);
      }
    });
  }

  /**
   * Metoda rysuje ścieżki po których poruszają się dynamiczne obiekty.
   */
  private drawRoads() {
    this.model.roads.forEach((road: Road) &#x3D;&gt; this.drawLine(this.context, road.startX, road.startY, road.endX, road.endY));
  }

  /**
   * Metoda rysuje lampy na mapie symulacji.
   */
  private drawLamps() {
    this.model.lampList.forEach((lamp: Lamp) &#x3D;&gt; this.drawRing(this.context, lamp.posX, lamp.posY, 10, lamp.conditionalPower * lamp.enabled));
  }

  /**
   * Metoda pomocnicza, używana przy rysowaniu lamp.
   * @param context kontekst renderowania
   * @param posX pozycja X
   * @param posY pozycja Y
   * @param radius promień obiektu
   * @param color kolor obiektu
   */
  private drawCircle(context: CanvasRenderingContext2D, posX: number, posY: number, radius: number, color: string &#x3D; null) {
    context.beginPath();
    context.arc(posX, posY, radius, 0, 2 * Math.PI, false);
    context.closePath();
    if (color) {
      context.fillStyle &#x3D; color;
      context.fill();
    }
    context.lineWidth &#x3D; 0;
  }

  /**
   * Metoda pomocnicza, używana przy rysowaniu obiektów dynamicznych.
   * @param context kontekst renderowania
   * @param posX pozycja X
   * @param posY pozycja Y
   * @param width szerokość obiektu
   * @param height wysokość obiektu
   * @param color kolor obiektu
   */
  private drawRect(context: CanvasRenderingContext2D, posX: number, posY: number, width: number, height: number, color: string &#x3D; null) {
    if (color) {
      context.fillStyle &#x3D; color;
      context.fillRect(posX, posY, width, height);
    }
  }

  /**
   * Metoda pomocnicza, używana przy rysowaniu lamp.
   * @param context kontekst renderowania
   * @param posX pozycja X
   * @param posY pozycja Y
   * @param radius promień obiektu
   * @param scale współczynnik skali
   * @param innerColor kolor wewnętrznego koła
   * @param outerColor kolor zewnętrznego koła
   */
  private drawRing(context: CanvasRenderingContext2D, posX: number, posY: number, radius: number, scale: number, innerColor: string &#x3D; &#x27;rgba(0,0,0,0.5)&#x27;, outerColor: string &#x3D; &#x27;rgba(255,255,0,0.5)&#x27;) {
    this.drawCircle(context, posX, posY, radius * 8 * scale, outerColor)
    this.drawCircle(context, posX, posY, radius, innerColor)
  }

  /**
   * Metoda pomocnicza, używana przy rysowaniu ścieżek do poruszania się obiektów.
   * @param context kontekst renderowania
   * @param startX pozycja X początku
   * @param startY pozycja Y początku
   * @param endX pozycja X końca
   * @param endY pozycja Y końca
   */
  private drawLine(context: CanvasRenderingContext2D, startX: number, startY: number, endX: number, endY: number) {
    context.beginPath();
    context.moveTo(startX, startY);
    context.lineWidth &#x3D; 10;
    context.lineCap &#x3D; &quot;round&quot;;
    context.strokeStyle &#x3D; &quot;#AAAAAA&quot;;
    context.lineTo(endX, endY);
    context.stroke();
  }
}
</code></pre>
        </div>
    </div>










                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
           </div>
       </div>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/search/search.js"></script>
       <script src="../js/search/lunr.min.js"></script>
       <script src="../js/search/search-lunr.js"></script>

       <script src="../js/menu.js"></script>
       <script src="../js/libs/highlight.pack.js"></script>
       <script src="../js/libs/highlightjs-line-numbers.min.js"></script>
       <script src="../js/search/search_index.js"></script>
       <script>
            document.addEventListener('DOMContentLoaded', function() {
                hljs.initHighlightingOnLoad();
                hljs.initLineNumbersOnLoad();
            });
       </script>

    </body>
</html>
